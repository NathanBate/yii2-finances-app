(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3b0d8c8a"],{"0826":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-input",{attrs:{"no-error-icon":"",filled:"",rules:["date"],label:"Date"},on:{input:function(e){return t.$emit("updateDatePicker",t.transactionDate)}},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fas fa-calendar-day"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{options:t.DateLimits,"today-btn":""},on:{input:function(e){return t.$emit("updateDatePicker",t.transactionDate)}},model:{value:t.transactionDate,callback:function(e){t.transactionDate=e},expression:"transactionDate"}})],1)],1)]},proxy:!0}]),model:{value:t.transactionDate,callback:function(e){t.transactionDate=e},expression:"transactionDate"}})},o=[],r=a("bd4c"),s=(a("c427"),{name:"DatePicker",props:{initialDate:{type:[String],required:!0}},data:function(){return{transactionDate:this.initialDate}},methods:{DateLimits:function(t){var e=r["b"].formatDate(this.initialDate,"YYYY"),a=r["b"].formatDate(this.initialDate,"MM"),n=r["b"].formatDate(this.initialDate,"DD"),o=new Date(e,a,n),s=new Date(o.getFullYear(),o.getMonth(),1);s=r["b"].formatDate(s,"DD");var i=new Date(o.getFullYear(),o.getMonth()+1,0);i=r["b"].formatDate(i,"DD");var c=e+"/"+a+"/"+s,l=e+"/"+a+"/"+i;return t>=c&&t<=l}}}),i=s,c=a("2877"),l=a("eebe"),u=a.n(l),d=a("27f9"),m=a("0016"),p=a("7cbe"),g=a("52ee"),b=Object(c["a"])(i,n,o,!1,null,null,null);e["a"]=b.exports;u()(b,"components",{QInput:d["a"],QIcon:m["a"],QPopupProxy:p["a"],QDate:g["a"]})},"1eb1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-select",{style:t.$q.platform.is.mobile?"":"width:300px;",attrs:{label:"Category",options:t.budgetItems,clearable:"",filled:"","no-error-icon":"",rules:[function(t){return!!t||"Field is required"}]},on:{input:function(e){return t.$emit("categoryChosen",t.selectedCategory)}},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1)},o=[],r=(a("c5f6"),a("c427")),s=(a("bd4c"),{name:"TransactionCategoryPicker",props:{mode:{validator:function(t){return"Add"==t||"Update"==t}},categoryType:{validator:function(t){return"I"==t||"E"==t}}},data:function(){return{selectedCategory:"",selectedId:-1,budgetItems:[],transactionId:this.$route.params.transactionid}},calculated:{},methods:{findSelected:function(){var t=this;console.log("got to find selected method.  the selected Id"),this.budgetItems.forEach((function(e){console.log("The current option value is"),console.log(e),Number(e.value)===Number(t.selectedId)&&(console.log("got to found option for selected"),console.log(e),t.selectedCategory=e)}))},getBudgetInfo:function(){var t=this;r["a"].get("budget/get-budget-info-by-statement-id/"+this.$route.params.statementid).then((function(e){e.data.success&&("I"===t.categoryType?t.budgetItems=e.data.incomeBudgetItems:t.budgetItems=e.data.expenseBudgetItems,"Update"===t.mode&&t.getTransactionInfo())})).catch((function(e){console.log(e),t.$q.notify({message:"There was a problem getting the budget information",color:"red",position:"top",timeout:5e3})})).then((function(){}))},getTransactionInfo:function(){var t=this;r["a"].get("transaction/view/"+this.$route.params.transactionid).then((function(e){!0===e.data.success&&(t.selectedId=Number(e.data.transaction.category),t.findSelected())})).catch((function(e){console.log(e),t.$q.notify({message:"There was a problem getting the transaction",color:"red",position:"top",timeout:5e3})})).then((function(){}))}},created:function(){this.getBudgetInfo()}}),i=s,c=a("2877"),l=a("eebe"),u=a.n(l),d=a("ddd8"),m=Object(c["a"])(i,n,o,!1,null,null,null);e["a"]=m.exports;u()(m,"components",{QSelect:d["a"]})},b10f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[void 0!==t.accounts[t.$route.params.id]?a("BreadCrumbs",{attrs:{crumbs:t.crumbs}}):t._e(),t.$q.platform.is.mobile?t._e():a("DesktopView",{attrs:{transaction:t.transaction,transactionYear:t.transactionYear,transactionMonth:t.transactionMonth,"category-type":null!==t.transaction.payer?"I":"E","budget-attached":t.budgetAttached}}),t.$q.platform.is.mobile?a("MobileView",{attrs:{transaction:t.transaction,transactionYear:t.transactionYear,transactionMonth:t.transactionMonth,"category-type":null!==t.transaction.payer?"I":"E","budget-attached":t.budgetAttached}}):t._e()],1)},o=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c5f6"),a("c47a")),s=a.n(r),i=a("2f62"),c=a("bd4c"),l=a("c427"),u=a("d8b7"),d=a("0826"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row justify-center q-mt-lg q-ml-sm"},[a("div",{staticClass:"col-xs-10 col-sm-10 col-md-10"},[a("div",{staticClass:"row q-gutter-sm"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"text-h3"},[t._v(t._s(t.transaction.title))])])]),a("q-form",{staticClass:"q-gutter-sm q-mt-lg",on:{submit:t.onSubmit}},[a("div",{staticClass:"row q-gutter-sm"},[a("div",{staticClass:"col-12 col-sm-12 col-md-3 col-lg-3"},[a("q-input",{staticClass:"q-mb-lg",attrs:{outlined:"",label:"Amount",filled:"",type:"text",prefix:"$"},model:{value:t.transaction.amount,callback:function(e){t.$set(t.transaction,"amount",e)},expression:"transaction.amount"}})],1),""!=t.transaction.transactionDate?a("div",{staticClass:"col-12 col-sm-12 col-md-3 col-lg-3"},[a("DatePicker",{attrs:{initialDate:t.transaction.transactionDate},on:{updateDatePicker:function(e){t.transaction.transactionDate=e}}})],1):t._e(),a("div",{staticClass:"col-12 col-sm-12 col-md-3 col-lg-3"},[a("q-input",{staticClass:"q-mb-lg",attrs:{outlined:"",label:"Order",filled:"",min:"0",max:"31",type:"number"},model:{value:t.transaction.minuteOrder,callback:function(e){t.$set(t.transaction,"minuteOrder",e)},expression:"transaction.minuteOrder"}})],1)]),a("div",{staticClass:"row"},[t.budgetAttached?a("div",{staticClass:"col-shrink"},[a("CategoryPicker",{staticClass:"q-ml-sm q-mb-lg",attrs:{mode:"Update","category-type":t.categoryType},on:{categoryChosen:function(e){t.selectedCategory=e}}})],1):t._e()]),a("div",{staticClass:"row q-gutter-sm"},[a("div",{staticClass:"col-12 col-sm-12 col-md-10"},[a("q-input",{attrs:{outlined:"","no-error-icon":"",label:"Note"},model:{value:t.transaction.note,callback:function(e){t.$set(t.transaction,"note",e)},expression:"transaction.note"}})],1)]),a("div",{staticClass:"row q-gutter-sm"},[a("div",{staticClass:"col-sm-12"},[a("q-toggle",{attrs:{label:"Reconciled?",color:"green"},model:{value:t.transaction.reconciled,callback:function(e){t.$set(t.transaction,"reconciled",e)},expression:"transaction.reconciled"}})],1)]),a("div",{staticClass:"row q-gutter-sm"},[a("div",{staticClass:"col-sm-12"},[a("q-btn",{staticClass:"q-mb-lg",attrs:{type:"submit",color:"primary",label:"Save"}})],1)]),a("div",{staticClass:"row q-gutter-sm"},[a("div",{staticClass:"col-sm-12"},[a("q-btn",{staticClass:"q-mb-lg",attrs:{type:"button",color:"primary",label:"Delete",icon:"delete"},on:{click:t.deleteTransaction}})],1)])])],1)])])},p=[],g=a("1eb1"),b={name:"UpdateTransactionDesktopView",components:{DatePicker:d["a"],CategoryPicker:g["a"]},props:{transaction:{type:[Object],required:!0},transactionYear:{type:[String],required:!0},transactionMonth:{type:[String],required:!0},categoryType:{validator:function(t){return"I"==t||"E"==t}},budgetAttached:{type:[Boolean],default:!1}},data:function(){return{selectedCategory:""}},methods:{onSubmit:function(){var t=this,e={id:this.transaction.transactionId,amount:this.transaction.amount,transactionDate:this.transaction.transactionDate,note:this.transaction.note,reconciled:this.transaction.reconciled?"Y":"N",minuteOrder:""!=this.transaction.minuteOrder?this.transaction.minuteOrder:0};this.budgetAttached&&null!==this.selectedCategory&&(e["category"]=this.selectedCategory.value),console.log("sending this payload to update transaction"),console.log(e),l["a"].post("transaction/update",e).then((function(e){!0===e.data.success&&t.$router.push("/account/"+t.$route.params.id+"/"+t.$route.params.slug+"/"+t.transactionYear+"/"+t.transactionMonth+"/")}))},deleteTransaction:function(){var t=this;this.$q.dialog({title:"Confirm",message:"Are you sure you would like to delete this transaction?",cancel:!0,persistent:!0}).onOk((function(){l["a"].get("transaction/delete/"+t.transaction.transactionId).then((function(e){!0===e.data.success&&t.$router.push("/account/"+t.transaction.account+"/"+t.$route.params.slug+"/"+t.transactionYear+"/"+t.transactionMonth+"/")}))})).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}},created:function(){console.log("transaction"),console.log(JSON.stringify(this.transaction))}},f=b,h=a("2877"),y=a("eebe"),v=a.n(y),D=a("0378"),q=a("27f9"),C=a("9564"),O=a("9c40"),$=Object(h["a"])(f,m,p,!1,null,null,null),k=$.exports;v()($,"components",{QForm:D["a"],QInput:q["a"],QToggle:C["a"],QBtn:O["a"]});var w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-ma-sm"},[a("div",{staticClass:"text-h3"},[t._v(t._s(t.transaction.title))]),a("q-form",{staticClass:"q-gutter-sm q-mt-lg",on:{submit:t.onSubmit}},[a("q-input",{staticClass:"q-mb-lg",attrs:{outlined:"",label:"Amount",filled:"",type:"text",prefix:"$"},model:{value:t.transaction.amount,callback:function(e){t.$set(t.transaction,"amount",e)},expression:"transaction.amount"}}),a("CategoryPicker",{staticClass:"q-mb-sm",attrs:{mode:"Update","category-type":t.categoryType},on:{categoryChosen:function(e){t.selectedCategory=e}}}),""!=t.transaction.transactionDate?a("div",[a("DatePicker",{attrs:{initialDate:t.transaction.transactionDate},on:{updateDatePicker:function(e){t.transaction.transactionDate=e}}})],1):t._e(),a("q-input",{staticClass:"q-mb-lg",attrs:{outlined:"",label:"Order",filled:"",min:"0",max:"31",type:"number"},model:{value:t.transaction.minuteOrder,callback:function(e){t.$set(t.transaction,"minuteOrder",e)},expression:"transaction.minuteOrder"}}),a("q-input",{attrs:{outlined:"","no-error-icon":"",label:"Note"},model:{value:t.transaction.note,callback:function(e){t.$set(t.transaction,"note",e)},expression:"transaction.note"}}),a("div",{staticClass:"q-mb-lg"},[a("q-toggle",{attrs:{label:"Reconciled?",color:"green"},model:{value:t.transaction.reconciled,callback:function(e){t.$set(t.transaction,"reconciled",e)},expression:"transaction.reconciled"}})],1),a("div",[a("q-btn",{staticClass:"q-mb-lg",attrs:{type:"submit",color:"primary",label:"Save"}})],1),a("br"),a("br"),a("div",[a("q-btn",{staticClass:"q-mb-lg",attrs:{type:"button",color:"primary",label:"Delete",icon:"delete"},on:{click:t.deleteTransaction}})],1)],1)],1)},I=[],P={name:"UpdateTransactionMobileView",components:{DatePicker:d["a"],CategoryPicker:g["a"]},props:{transaction:{type:[Object],required:!0},transactionYear:{type:[String],required:!0},transactionMonth:{type:[String],required:!0},categoryType:{validator:function(t){return"I"==t||"E"==t}},budgetAttached:{type:[Boolean],default:!1}},data:function(){return{selectedCategory:""}},methods:{onSubmit:function(){var t=this,e={id:this.transaction.transactionId,amount:this.transaction.amount,transactionDate:this.transaction.transactionDate,note:this.transaction.note,reconciled:this.transaction.reconciled?"Y":"N",minuteOrder:""!=this.transaction.minuteOrder?this.transaction.minuteOrder:0};this.budgetAttached&&null!==this.selectedCategory&&(e["category"]=this.selectedCategory.value),console.log("sending this payload to update transaction"),console.log(e),l["a"].post("transaction/update",e).then((function(e){!0===e.data.success&&t.$router.push("/account/"+t.$route.params.id+"/"+t.$route.params.slug+"/"+t.transactionYear+"/"+t.transactionMonth+"/")}))},deleteTransaction:function(){var t=this;this.$q.dialog({title:"Confirm",message:"Are you sure you would like to delete this transaction?",cancel:!0,persistent:!0}).onOk((function(){l["a"].get("transaction/delete/"+t.transaction.transactionId).then((function(e){!0===e.data.success&&t.$router.push("/account/"+t.transaction.account+"/"+t.$route.params.slug+"/"+t.transactionYear+"/"+t.transactionMonth+"/")}))})).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}},created:function(){console.log("transaction"),console.log(JSON.stringify(this.transaction))}},j=P,x=Object(h["a"])(j,w,I,!1,null,null,null),T=x.exports;function Y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(a),!0).forEach((function(e){s()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}v()(x,"components",{QForm:D["a"],QInput:q["a"],QToggle:C["a"],QBtn:O["a"]});var S={name:"UpdateTransaction",components:{BreadCrumbs:u["a"],DatePicker:d["a"],DesktopView:k,MobileView:T},data:function(){return{transactionYear:"",transactionMonth:"",transaction:{transactionId:-1,account:-1,title:"",amount:-1,category:null,payer:null,recipient:null,transactionDate:"",note:"",reconciled:!1,minuteOrder:0},budgetAttached:!1}},computed:_({crumbs:function(){if(void 0!==this.accounts[this.$route.params.id])return[{icon:"account_balance",label:this.accounts[this.$route.params.id].accountName,to:"/account/"+this.$route.params.id+"/"+this.$route.params.slug+"/"+this.$route.params.year+"/"+this.$route.params.month+"/"},{icon:"edit",label:"Edit Transaction",to:""}]}},Object(i["b"])({accounts:"accounts/getAccounts"})),methods:{getTransaction:function(){var t=this;l["a"].get("transaction/view/"+this.$route.params.transactionid).then((function(e){if(!0===e.data.success){var a=e.data.transaction;console.log("transaction data"),console.log(a),t.transaction.transactionId=a.transactionId,a.amount>0?t.transaction.account=a.payerAccount:t.transaction.account=a.recipientAccount,null!==a.payerName?t.transaction.title=a.payerName:t.transaction.title=a.recipientName,t.transaction.amount=a.amount,t.transaction.transactionDate=a.transactionPickerDate,t.transaction.minuteOrder=parseInt(a.minuteOrder),t.transaction.note=a.note,"Y"==a.reconciled&&(t.transaction.reconciled=!0),t.transaction.payer=a.payer,t.transaction.recipient=a.recipient,t.transaction.category=Number(a.category),t.transactionYear=c["b"].formatDate(a.transactionDateFormatted,"YYYY"),t.transactionMonth=c["b"].formatDate(a.transactionDateFormatted,"M")}})).catch((function(e){console.log(e),t.$q.notify({message:"There was a problem getting the transaction",color:"red",position:"top",timeout:5e3})})).then((function(){}))},getBudgetInfo:function(){var t=this;l["a"].get("budget/get-budget-info-by-statement-id/"+this.$route.params.statementid).then((function(e){e.data.success&&(t.budgetAttached=e.data.budgetAttached)})).catch((function(e){console.log(e),t.$q.notify({message:"There was a problem getting the budget information",color:"red",position:"top",timeout:5e3})})).then((function(){}))}},created:function(){this.getTransaction(),this.getBudgetInfo()}},A=S,M=a("9989"),E=Object(h["a"])(A,n,o,!1,null,null,null);e["default"]=E.exports;v()(E,"components",{QPage:M["a"]})},d8b7:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row q-pb-lg q-pt-md",class:t.$q.platform.is.mobile?"q-pl-sm":"q-pl-lg"},[a("div",{staticClass:"col-md-12",style:t.$q.platform.is.mobile?"font-size:8px;":""},[a("q-breadcrumbs",[a("q-breadcrumbs-el",{attrs:{icon:"fas fa-home",to:"/"}}),t._l(t.crumbs,(function(t){return a("q-breadcrumbs-el",{key:"bread-crumb-key-"+t.label,attrs:{icon:t.icon,label:t.label,to:t.to}})}))],2)],1)])},o=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),s=a.n(r),i=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){s()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"BreadCrumbs",props:{crumbs:{type:[Array],default:[]}},computed:l({},Object(i["b"])({accounts:"accounts/getAccounts"}))},d=u,m=a("2877"),p=a("eebe"),g=a.n(p),b=a("ead5"),f=a("079e"),h=Object(m["a"])(d,n,o,!1,null,null,null);e["a"]=h.exports;g()(h,"components",{QBreadcrumbs:b["a"],QBreadcrumbsEl:f["a"]})}}]);