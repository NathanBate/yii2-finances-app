(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0df056"],{"87ab":function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",{staticClass:"row q-pl-lg q-pb-lg q-pt-md"},[a("div",{staticClass:"col-md-12"},[a("q-breadcrumbs",[a("q-breadcrumbs-el",{attrs:{label:"Dashboard",icon:"fas fa-home",to:"/"}}),a("q-breadcrumbs-el",{attrs:{label:"Settings",icon:"settings",to:"/settings"}}),a("q-breadcrumbs-el",{attrs:{label:"Accounts",icon:"account_balance",to:"/accounts"}}),a("q-breadcrumbs-el",{attrs:{label:"Update Account",icon:"edit"}})],1)],1)]),a("div",{staticClass:"row justify-center q-mt-lg"},[a("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},[a("q-tabs",{staticClass:"text-teal",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"accountInfo",icon:"info",label:"Info"}}),a("q-tab",{attrs:{name:"accountSecurity",icon:"security",label:"Security"}})],1),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"accountInfo"}},[a("Info")],1),a("q-tab-panel",{attrs:{name:"accountSecurity"}},[a("Security")],1)],1),a("div",{staticClass:"col-sm-12 q-pt-lg q-pl-md"},[a("q-btn",{staticClass:"q-mb-lg",attrs:{type:"button",color:"primary",label:"Trash Account",icon:"delete"},on:{click:t.trashAccount}})],1)],1)])])},o=[],n=a("2f62"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-form",{staticClass:"q-py-lg",on:{submit:t.onSubmit}},[a("div",{staticClass:"row items-start content-start q-col-gutter-x-sm q-col-gutter-y-sm q-pt-lg"},[a("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[a("q-input",{attrs:{outlined:"",label:"Account Name",type:"text",filled:"","no-error-icon":"",rules:[function(t){return!!t||"Field is required"}]},model:{value:t.accountName,callback:function(e){t.accountName=e},expression:"accountName"}})],1),a("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[a("q-input",{attrs:{outlined:"",label:"Bank Name",type:"text",filled:"","no-error-icon":"",rules:[function(t){return!!t||"Field is required"}]},model:{value:t.bankName,callback:function(e){t.bankName=e},expression:"bankName"}})],1),a("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[a("q-input",{attrs:{outlined:"",label:"Account Number",type:"text",filled:"","no-error-icon":""},model:{value:t.accountNumber,callback:function(e){t.accountNumber=e},expression:"accountNumber"}})],1),a("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[a("q-input",{attrs:{outlined:"",label:"Slug",type:"text",filled:"","no-error-icon":"",hint:"At Least 4 Chars & Only Lowercase and dashes (i.e. personal-checking)",rules:[function(e){return e.match(t.slugRegEx)||"At least 4 chars & only lowercase and dashes"}]},model:{value:t.slug,callback:function(e){t.slug=e},expression:"slug"}})],1),a("div",{staticClass:"col-12"},[a("q-btn",{staticClass:"q-mt-lg",attrs:{type:"submit",color:"primary",label:"Save"}})],1)])])},r=[],u=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),i=a.n(u),l=a("f508");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,c)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"AccountInfoTab",data:function(){return{accountName:"",bankName:"",accountNumber:"",slug:"",slugRegEx:/^[a-z\-]{4,}$/}},computed:b({},Object(n["b"])({accounts:"accounts/getAccounts",user:"access/getUser"})),methods:{onSubmit:function(){var t=this;l["a"].show();var e={id:this.$route.params.accountId,accountName:this.accountName,bankName:this.bankName,accountNumber:this.accountNumber,slug:this.slug};this.$store.dispatch("accounts/updateAccount",e).then((function(e){l["a"].hide(),!1===e.data.success?t.$q.notify({message:"There was a problem saving your update.",color:"red",position:"top",timeout:5e3}):t.$router.push("/accounts/")}))},populate:function(){var t;t=this.accounts[this.$route.params.accountId],this.accountName=t.accountName,this.bankName=t.bankName,this.accountNumber=t.accountNumber,null!==t.slug&&(this.slug=t.slug)}},mounted:function(){var t=this;0==this.accounts.length?(l["a"].show(),this.$store.dispatch("accounts/getAccounts").then((function(e){l["a"].hide(),t.populate()}))):this.populate()}},p=d,f=a("2877"),h=a("eebe"),g=a.n(h),q=a("0378"),y=a("27f9"),v=a("9c40"),O=Object(f["a"])(p,s,r,!1,null,null,null),w=O.exports;g()(O,"components",{QForm:q["a"],QInput:y["a"],QBtn:v["a"]});var k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-form",[a("div",{staticClass:"row items-start content-start q-col-gutter-x-sm q-col-gutter-y-sm q-pt-lg"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"bg-primary text-white shadow-2"},[a("q-toolbar-title",[t._v("Account Users")])],1),a("q-list",{attrs:{bordered:"",separator:""}},[t._l(t.accountUsers,(function(e){return a("q-item",{key:"account-users-"+e.accountUserId},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.firstName)+" "+t._s(e.lastName))])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{size:"xs",round:"",color:"primary",icon:"fas fa-times"},on:{click:function(a){return t.removeUser(e.accountUserId)}}})],1)],1)})),t._l(t.allUsers,(function(e){return t.accountUsers.hasOwnProperty(e.id)?t._e():a("q-item",{key:"all-users-"+e.id},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.firstName)+" "+t._s(e.lastName))]),a("q-item-label",{attrs:{caption:""}},[a("span")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{size:"xs",round:"",color:"primary",icon:"add"},on:{click:function(a){return t.addUser(e.id)}}})],1)],1)}))],2)],1)])])},N=[],j=a("c427");function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,c)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var C={name:"AccountSecurityTab",data:function(){return{accountUsers:[],allUsers:[]}},computed:$({},Object(n["b"])({accounts:"accounts/getAccounts",user:"access/getUser"})),methods:{addUser:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;j["a"].get("account/add-bank-account-user/"+this.$route.params.accountId+"/"+e).then((function(e){t.$router.push("/accounts/")})).catch((function(e){console.log(e),t.$q.notify({message:"There was a problem adding the user",color:"red",position:"top",timeout:5e3})})).then((function(){}))},removeUser:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;j["a"].get("account/remove-bank-account-user/"+e).then((function(e){t.$router.push("/accounts/")})).catch((function(e){console.log(e),t.$q.notify({message:"There was a problem removing the user",color:"red",position:"top",timeout:5e3})})).then((function(){}))}},mounted:function(){var t=this;j["a"].get("account/get-account-users/"+this.$route.params.accountId).then((function(e){console.log("Account Users"),console.log(e.data),t.accountUsers=e.data.accountUsers,t.allUsers=e.data.allUsers})).catch((function(e){console.log(e),t.$q.notify({message:"There was a problem loading the account users",color:"red",position:"top",timeout:5e3})})).then((function(){}))}},P=C,U=a("65c6"),A=a("6ac5"),Q=a("1c1c"),I=a("66e5"),_=a("4074"),S=a("0170"),T=Object(f["a"])(P,k,N,!1,null,null,null),D=T.exports;g()(T,"components",{QForm:q["a"],QToolbar:U["a"],QToolbarTitle:A["a"],QBtn:v["a"],QList:Q["a"],QItem:I["a"],QItemSection:_["a"],QItemLabel:S["a"]});var E={name:"UpdateBankAccountPage",components:{Info:w,Security:D},data:function(){return{tab:"accountInfo"}},methods:{trashAccount:function(){var t=this;this.$q.dialog({title:"Confirm",message:"Are you sure you would like to trash this account?",cancel:!0,persistent:!0}).onOk((function(){j["a"].get("account/trash-bank-account/"+t.$route.params.accountId).then((function(e){!0===e.data.success?t.$router.push("/accounts/"):t.$q.notify({message:"There was a problem trashing the account",color:"red",position:"top",timeout:5e3})})).catch((function(e){console.log(e),t.$q.notify({message:"There was a problem trashing the account",color:"red",position:"top",timeout:5e3})})).then((function(){}))})).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}}},B=E,F=a("9989"),L=a("ead5"),z=a("079e"),J=a("429b"),R=a("7460"),G=a("adad"),H=a("823b"),K=Object(f["a"])(B,c,o,!1,null,null,null);e["default"]=K.exports;g()(K,"components",{QPage:F["a"],QBreadcrumbs:L["a"],QBreadcrumbsEl:z["a"],QTabs:J["a"],QTab:R["a"],QTabPanels:G["a"],QTabPanel:H["a"],QBtn:v["a"]})}}]);