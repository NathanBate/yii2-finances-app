(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d21e53d"],{d4a8:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",[s("div",{staticClass:"row q-pl-lg q-pb-lg q-pt-md"},[s("div",{staticClass:"col-md-12"},[s("q-breadcrumbs",[s("q-breadcrumbs-el",{attrs:{label:"Dashboard",icon:"fas fa-home",to:"/"}}),s("q-breadcrumbs-el",{attrs:{label:"View Profile",icon:"person",to:"/viewprofile"}}),s("q-breadcrumbs-el",{attrs:{label:"Edit Profile",icon:"person_outline"}})],1)],1)]),s("q-form",{staticClass:"q-py-lg",on:{submit:e.onSubmit}},[s("div",{staticClass:"row justify-center q-mt-lg"},[s("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},[s("q-toolbar",{staticClass:"bg-primary text-white shadow-2"},[s("q-toolbar-title",[e._v("Update Profile")])],1),s("div",{staticClass:"row items-start content-start q-col-gutter-x-sm q-col-gutter-y-sm q-pt-lg"},[s("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[s("q-input",{attrs:{outlined:"",label:"First Name",type:"text",filled:"","no-error-icon":"",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),s("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[s("q-input",{attrs:{outlined:"",label:"Last Name",type:"text",filled:"","no-error-icon":"",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),s("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[s("q-input",{attrs:{outlined:"",label:"Username",type:"text",filled:"","no-error-icon":"",rules:[function(e){return e.length>4||"Username must be at least 5 characters."}]},on:{keyup:e.resetUsernameStatus},scopedSlots:e._u([!0===e.usernameUnique?{key:"prepend",fn:function(){return[s("q-icon",{attrs:{color:"green",name:"check"}})]},proxy:!0}:!0===e.usernameError?{key:"prepend",fn:function(){return[s("q-icon",{attrs:{color:"red",name:"close"}})]},proxy:!0}:null],null,!0),model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("div",{staticClass:"col-12 col-md-6 q-pb-lg"},[s("q-btn",{staticStyle:{padding:"10px"},attrs:{disable:e.username.length<5,label:"Check Username Availability",color:"primary"},on:{click:e.checkUsername}})],1),s("div",{staticClass:"col-12 col-md-6"},[s("q-input",{attrs:{outlined:"",label:"Email",type:"text",filled:"","no-error-icon":"",rules:[function(t){return t.match(e.emailRegEx)||"Not a Valid Email"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("div",{staticClass:"col-12 col-md-6"},[s("q-input",{attrs:{outlined:"",label:"Password",type:"password",filled:"","no-error-icon":"",hint:"Only enter a password if you are seeking to change the current password",rules:[function(t){return 0==t.length||t.match(e.passwordRegEx)||"At least: Length 8, 2 Capitals, 1 ! @ # $ &, 3 Lowercase"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("div",{staticClass:"col-12"},["S"!=e.user.admin?s("q-toggle",{attrs:{label:"Admin",color:"green"},model:{value:e.admin,callback:function(t){e.admin=t},expression:"admin"}}):e._e()],1),e.usernameUnique?e._e():s("div",{staticClass:"col-12 q-mt-lg text-red"},[e._v("\n            Check username availability before this new user can be added.\n          ")]),s("div",{staticClass:"col-12"},[s("q-btn",{staticClass:"q-mt-lg",attrs:{disable:!e.usernameUnique,type:"submit",color:"primary",label:"Save"}})],1)])],1)])])],1)},r=[],i=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("c47a")),n=s.n(i),o=s("2f62");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"AddUserPage",data:function(){return{firstName:"",lastName:"",email:"",username:"",password:"",admin:!1,emailRegEx:"",passwordRegEx:"",usernameUnique:!0,usernameError:!1}},computed:c({},Object(o["b"])({user:"access/getUser"})),methods:{onSubmit:function(){var e=this,t={id:this.user.id,firstName:this.firstName,lastName:this.lastName,username:this.username,email:this.email};"Y"==this.user.admin?t["admin"]="Y":"N"==this.user.admin&&(t["admin"]="S"),""!=this.password&&(t["password"]=this.password),this.$store.dispatch("users/updateUser",t).then((function(s){s.data.success?(e.$store.commit("access/setUser",t),e.$router.push("/")):(e.$router.push("/"),e.$q.notify({message:"Profile Update Failed!",color:"red",position:"top",timeout:5e3}))}))},checkUsername:function(){var e=this;this.$store.dispatch("users/checkUsername",{username:this.username}).then((function(t){t.data.hasOwnProperty("usernameUnique")&&(!0===t.data.usernameUnique?(console.log("got here"),e.usernameUnique=!0,e.usernameError=!1):(e.usernameUnique=!1,e.usernameError=!0))}))},resetUsernameStatus:function(){this.username.length<5&&(this.usernameUnique=!1,this.usernameError=!1),1==this.usernameUnique&&(this.usernameUnique=!1,this.usernameError=!1),!0===this.usernameError&&(this.usernameError=!1)}},created:function(){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.emailRegEx=e;var t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()])(?!.*(.)\1{2,}).{10,}$/;this.passwordRegEx=t,this.user.hasOwnProperty("id")?(this.firstName=this.user.firstName,this.lastName=this.user.lastName,this.username=this.user.username,this.email=this.user.email,"Y"==this.user.admin||"S"==this.user.admin?this.admin=!0:this.admin=!1):(this.$store.commit("access/logout"),this.$q.notify({message:"Unable to find profile!",color:"red",position:"top",timeout:5e3}))}},m=u,d=s("2877"),p=s("eebe"),h=s.n(p),b=s("9989"),f=s("ead5"),g=s("079e"),q=s("0378"),v=s("65c6"),w=s("6ac5"),y=s("27f9"),x=s("0016"),U=s("9c40"),O=s("9564"),E=Object(d["a"])(m,a,r,!1,null,null,null);t["default"]=E.exports;h()(E,"components",{QPage:b["a"],QBreadcrumbs:f["a"],QBreadcrumbsEl:g["a"],QForm:q["a"],QToolbar:v["a"],QToolbarTitle:w["a"],QInput:y["a"],QIcon:x["a"],QBtn:U["a"],QToggle:O["a"]})}}]);