(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d22d3f5"],{f74b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-ma-md"},[void 0!==t.accounts[t.$route.params.id]?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("q-breadcrumbs",[a("q-breadcrumbs-el",{attrs:{icon:"fas fa-home",to:"/"}}),a("q-breadcrumbs-el",{attrs:{label:t.accounts[t.$route.params.id].accountName,icon:"account_balance",to:"/account/"+t.$route.params.slug+"/"}})],1)],1)]):t._e(),a("div",{staticClass:"xs-hide sm-hide col-12"},[a("div",{staticClass:"row justify-center q-mt-lg"},[a("div",{staticClass:"col-md-12 col-lg-9 col-xl-7"},[a("DesktopView",{attrs:{statement:t.statement,transactions:t.transactions,prevMonthLink:t.prevMonthLink,nextMonthLink:t.nextMonthLink,monthName:t.monthName,monthNumber:t.monthNumber,yearNumber:t.yearNumber,budgetAttached:t.budgetAttached,budget:t.budget,incomeTotal:t.incomeTotal,expenseTotal:t.expenseTotal}})],1)])]),a("div",{staticClass:"col-12 md-hide lg-hide xl-hide"},[a("MobileView",{attrs:{statement:t.statement,transactions:t.transactions,prevMonthLink:t.prevMonthLink,nextMonthLink:t.nextMonthLink,monthName:t.monthName,"month-number":t.monthNumber,yearNumber:t.yearNumber,budgetAttached:t.budgetAttached,budget:t.budget,incomeTotal:t.incomeTotal,expenseTotal:t.expenseTotal}})],1)])},n=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),o=a.n(r),i=a("2f62"),c=a("bd4c"),l=a("c427"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-mt-lg",attrs:{tag:"a",icon:"fas fa-arrow-left",round:"",color:"primary",to:t.prevMonthLink}})],1),a("div",{staticClass:"col-6 text-center"},[a("h4",{staticClass:"q-mt-md q-mb-none"},[t._v(t._s(t.monthName))]),"Y"==t.statement["reconciled"]?a("q-badge",{attrs:{align:"top"}},[t._v("Statement Reconciled")]):t._e()],1),a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-mt-lg float-right",attrs:{icon:"fas fa-arrow-right",round:"",color:"primary",to:t.nextMonthLink}})],1)]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col"},[a("b",[t._v("Beginning Balance:")]),t._v(" $"+t._s(t.statement["beginningBalance"])+"\n    ")]),a("div",{staticClass:"col-12-md-auto"},[a("q-btn",{attrs:{to:"/"+t.$route.params.slug+"/statement/update/"+t.statement["id"],color:"primary",label:"Edit Statement"}})],1),a("div",{staticClass:"col text-right"},[a("b",[t._v("Ending Balance:")]),t._v(" $"+t._s(t.statement["endingBalance"])+"\n    ")])]),t.budgetAttached?a("div",{staticClass:"row q-mt-xl"},[a("div",{staticClass:"col-12 text-h5"},[t._v("\n      Budget Info\n    ")])]):t._e(),t.budgetAttached?a("div",{staticClass:"row"},[a("div",{staticClass:"col-shrink text-bold q-pr-xs"},[t._v("\n      Income:\n    ")]),a("div",{staticClass:"col-shrink"},[a("router-link",{staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/budgets/status/"+t.statement["id"]+"/"+t.monthName+"/"+t.monthNumber+"/"+t.yearNumber+"/"+t.$route.params.id+"/"}},[t._v("\n        $"+t._s(t.incomeTotal)+" of $"+t._s(t.budget.budget.incomeTotal)+"\n      ")])],1)]):t._e(),t.budgetAttached?a("div",{staticClass:"row q-mb-xl"},[a("div",{staticClass:"col-shrink text-bold q-pr-xs"},[t._v("\n      Expenses:\n    ")]),a("div",{staticClass:"col-shrink",class:t.expenseTotal>t.budget.budget.expenseTotal?"text-red":"text-black"},[a("router-link",{class:t.expenseTotal>t.budget.budget.expenseTotal?"text-red":"text-black",staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/budgets/status/"+t.statement["id"]+"/"+t.monthName+"/"+t.monthNumber+"/"+t.yearNumber+"/"+t.$route.params.id+"/"}},[t._v("\n        $"+t._s(t.expenseTotal)+" of $"+t._s(t.budget.budget.expenseTotal)+"\n      ")])],1)]):t._e(),a("q-input",{staticClass:"q-mb-lg q-mt-lg",attrs:{standout:"bg-primary text-white",label:"Type in the site you want to go to",clearable:"",square:"","clear-icon":"fas fa-times"},on:{clear:function(e){t.search=""}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fas fa-search"}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("q-markup-table",{staticClass:"q-mt-lg"},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Date")]),a("th",{staticClass:"text-left"},[t._v("To / From")]),a("th",{staticClass:"text-right"},[t._v("Amount")]),a("th",{staticClass:"text-center"},[t._v("R")]),a("th",{staticClass:"text-right"},[t._v("Balance")]),a("th",{staticClass:"text-left"},[t._v("Note")]),a("th",{staticClass:"text-center"},["N"==t.statement["reconciled"]?a("q-btn",{attrs:{round:"",color:"deep-orange",icon:"fas fa-plus",type:"a",to:"/account/"+t.$route.params.id+"/"+t.$route.params.slug+"/transaction/add/"+t.$route.params.year+"/"+t.$route.params.month+"/statement/"+t.statement["id"]+"/"}}):t._e()],1)])]),a("tbody",t._l(t.filteredList,(function(e){return a("tr",{key:e["transactionId"]},[a("td",[t._v(t._s(e["transactionDateFormatted"]))]),a("td",[t._v(t._s(e["recipientName"])+t._s(e["payerName"]))]),a("td",{class:e["amount"]>0?"text-green text-right":"text-red text-right"},[t._v(t._s(e["amount"]))]),a("td",{staticClass:"text-center"},["Y"==e["reconciled"]?a("q-icon",{attrs:{name:"fas fa-check"}}):t._e()],1),a("td",{staticClass:"text-right"},[t._v(t._s(e["total"]))]),a("td",{staticClass:"text-left"},[e["note"].length>0?a("q-btn",{attrs:{icon:"fas fa-info",size:"xs",round:"",color:"primary"}},[a("q-tooltip",[t._v("\n            "+t._s(e["note"])+"\n          ")])],1):t._e()],1),a("td",{staticClass:"text-center"},["N"==t.statement["reconciled"]?a("q-btn",{attrs:{color:"primary",label:"Edit",type:"a",to:"/account/"+t.$route.params.id+"/"+t.$route.params.slug+"/transaction/update/"+e["transactionId"]+"/"+t.$route.params.year+"/"+t.$route.params.month+"/statement/"+t.statement["id"]+"/"}}):t._e()],1)])})),0)])],1)},u=[],m=(a("386d"),a("6762"),a("2fdb"),a("c5f6"),{name:"TransactionsListDesktop",props:{statement:{type:[Object],required:!0},transactions:{type:[Array],required:!0},prevMonthLink:{type:[String],required:!0},nextMonthLink:{type:[String],required:!0},monthName:{type:[String],required:!0},monthNumber:{type:[Number,String],required:!0},yearNumber:{type:[Number,String],required:!0},budgetAttached:{type:[Boolean],default:!1},budget:{type:[Array,Object],default:[]},incomeTotal:{type:[Number],default:-1},expenseTotal:{type:[Number],default:-1}},data:function(){return{search:""}},computed:{filteredList:function(){var t=this;return this.transactions.filter((function(e){var a=e.recipientName+" "+e.payerName;return e.title=a,e.title.toLowerCase().includes(t.search.toLowerCase())}))}}}),p=m,b=a("2877"),h=a("eebe"),g=a.n(h),f=a("9c40"),v=a("58a8"),x=a("27f9"),y=a("0016"),_=a("2bb1"),C=a("05c0"),q=Object(b["a"])(p,d,u,!1,null,null,null),k=q.exports;g()(q,"components",{QBtn:f["a"],QBadge:v["a"],QInput:x["a"],QIcon:y["a"],QMarkupTable:_["a"],QTooltip:C["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-mt-lg",attrs:{size:"xs",tag:"a",icon:"fas fa-arrow-left",round:"",color:"primary",to:t.prevMonthLink}})],1),a("div",{staticClass:"col-6 text-center"},[a("h5",{staticClass:"q-mt-md q-mb-none"},[t._v("\n        "+t._s(t.monthName)+"\n        "),a("q-btn",{attrs:{size:"xs",round:"",to:"/"+t.$route.params.slug+"/statement/update/"+t.statement["id"],color:"primary",icon:"fas fa-pencil-alt"}})],1),"Y"==t.statement["reconciled"]?a("q-badge",{attrs:{align:"top"}},[t._v("\n        Statement Reconciled\n      ")]):t._e()],1),a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-mt-lg float-right",attrs:{size:"xs",icon:"fas fa-arrow-right",round:"",color:"primary",to:t.nextMonthLink}})],1)]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col"},[a("b",[t._v("Beginning Balance:")]),t._v(" $"+t._s(t.statement["beginningBalance"])+"\n    ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col text-left"},[a("b",[t._v("Ending Balance:")]),t._v(" $"+t._s(t.statement["endingBalance"])+"\n    ")])]),t.budgetAttached?a("div",{staticClass:"row q-mt-xl"},[a("div",{staticClass:"col-12 text-h5"},[t._v("\n      Budget Info\n    ")])]):t._e(),t.budgetAttached?a("div",{staticClass:"row"},[a("div",{staticClass:"col-shrink text-bold q-pr-xs"},[t._v("\n      Income:\n    ")]),a("div",{staticClass:"col-shrink"},[a("router-link",{staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/budgets/status/"+t.statement["id"]+"/"+t.monthName+"/"+t.monthNumber+"/"+t.yearNumber+"/"+t.$route.params.id+"/"}},[t._v("\n        $"+t._s(t.incomeTotal)+" of $"+t._s(t.budget.budget.incomeTotal)+"\n      ")])],1)]):t._e(),t.budgetAttached?a("div",{staticClass:"row q-mb-xl"},[a("div",{staticClass:"col-shrink text-bold q-pr-xs"},[t._v("\n      Expenses:\n    ")]),a("div",{staticClass:"col-shrink",class:t.expenseTotal>t.budget.budget.expenseTotal?"text-red":"text-black"},[a("router-link",{class:t.expenseTotal>t.budget.budget.expenseTotal?"text-red":"text-black",staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/budgets/status/"+t.statement["id"]+"/"+t.monthName+"/"+t.monthNumber+"/"+t.yearNumber+"/"+t.$route.params.id+"/"}},[t._v("\n        $"+t._s(t.expenseTotal)+" of $"+t._s(t.budget.budget.expenseTotal)+"\n      ")])],1)]):t._e(),a("q-input",{staticClass:"q-mb-lg q-mt-lg",attrs:{standout:"bg-primary text-white",label:"Type in the site you want to go to",clearable:"",square:"","clear-icon":"fas fa-times"},on:{clear:function(e){t.search=""}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fas fa-search"}})]},proxy:!0},"N"==t.statement["reconciled"]?{key:"after",fn:function(){return[t.statement.statementReconciled?t._e():a("q-btn",{attrs:{round:"",color:"deep-orange",icon:"fas fa-plus",type:"a",to:"/account/"+t.$route.params.id+"/"+t.$route.params.slug+"/transaction/add/"+t.$route.params.year+"/"+t.$route.params.month+"/statement/"+t.statement["id"]+"/"}})]},proxy:!0}:null],null,!0),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._l(t.filteredList,(function(e){return a("q-card",{key:e["transactionId"],staticClass:"my-card q-mx-xs q-my-md"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(e["recipientName"])+t._s(e["payerName"]))]),a("div",{staticClass:"text-subtitle2"},[t._v("\n        "+t._s(e["note"])+"\n      ")])]),a("q-markup-table",[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Date")]),a("th",{staticClass:"text-right"},[t._v("Amount")]),a("th",{staticClass:"text-center"},[t._v("R")]),a("th",{staticClass:"text-right"},[t._v("Balance")])])]),a("tbody",[a("tr",[a("td",[t._v(t._s(e["transactionDateFormatted"]))]),a("td",{class:e.amount>0?"text-green text-right":"text-red text-right"},[t._v(t._s(e.amount))]),a("td",{staticClass:"text-center"},["Y"==e.reconciled?a("q-icon",{attrs:{name:"fas fa-check"}}):t._e()],1),a("td",{staticClass:"text-right"},[t._v(t._s(e["total"]))])])])]),t.statement.statementReconciled?t._e():a("q-card-section",[a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{staticClass:"float-right",attrs:{round:"",color:"primary",icon:"fas fa-pencil-alt",type:"a",to:"/account/"+t.$route.params.id+"/"+t.$route.params.slug+"/transaction/update/"+e["transactionId"]+"/"+t.$route.params.year+"/"+t.$route.params.month+"/statement/"+t.statement["id"]+"/"}})],1)],1)],1)}))],2)},T=[],$={name:"TransactionsListMobile",props:{statement:{type:[Object],required:!0},transactions:{type:[Array],required:!0},prevMonthLink:{type:[String],required:!0},nextMonthLink:{type:[String],required:!0},monthName:{type:[String],required:!0},monthNumber:{type:[Number,String],required:!0},yearNumber:{type:[Number,String],required:!0},budgetAttached:{type:[Boolean],default:!1},budget:{type:[Array,Object],default:[]},incomeTotal:{type:[Number],default:-1},expenseTotal:{type:[Number],default:-1}},data:function(){return{search:""}},computed:{filteredList:function(){var t=this;return this.transactions.filter((function(e){var a=e.recipientName+" "+e.payerName;return e.title=a,e.title.toLowerCase().includes(t.search.toLowerCase())}))}}},w=$,M=a("f09f"),L=a("a370"),O=a("4b7e"),A=Object(b["a"])(w,N,T,!1,null,null,null),B=A.exports;function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g()(A,"components",{QBtn:f["a"],QBadge:v["a"],QInput:x["a"],QIcon:y["a"],QCard:M["a"],QCardSection:L["a"],QMarkupTable:_["a"],QCardActions:O["a"]});var j={name:"ViewTransactions",components:{DesktopView:k,MobileView:B},data:function(){return{nextMonthLink:"",prevMonthLink:"",monthName:"",monthNumber:"",yearNumber:"",transactions:[],statement:{},budgetAttached:!1,budget:[],incomeTotal:-1,expenseTotal:-1}},computed:D({},Object(i["b"])({accounts:"accounts/getAccounts"})),methods:{loadPageData:function(t,e,a,s){var n=this,r=a+"/"+s+"/01";this.monthName=c["b"].formatDate(r,"MMMM"),this.monthNumber=s,this.yearNumber=a;var o=c["b"].subtractFromDate(r,{month:1}),i=c["b"].formatDate(o,"YYYY"),d=c["b"].formatDate(o,"M");this.prevMonthLink="/account/"+t+"/"+e+"/"+i+"/"+d+"/";var u=c["b"].addToDate(r,{month:1});i=c["b"].formatDate(u,"YYYY"),d=c["b"].formatDate(u,"M"),this.nextMonthLink="/account/"+t+"/"+e+"/"+i+"/"+d+"/",l["a"].get("transactions/"+a+"/"+s+"/"+t).then((function(t){!0===t.data.success&&(n.transactions=t.data.transactions,n.statement=t.data.statement,n.budgetAttached=t.data.budgetAttached,n.budget=t.data.budget,n.incomeTotal=t.data.incomeTransactionsTotal,n.expenseTotal=t.data.expenseTransactionsTotal)}))}},created:function(){var t=this.$route.params.id,e=this.$route.params.slug,a=this.$route.params.year,s=this.$route.params.month;this.loadPageData(t,e,a,s)},beforeRouteUpdate:function(t,e,a){this.monthName=" ",this.loadPageData(t.params.id,t.params.slug,t.params.year,t.params.month),a()}},Q=j,E=a("9989"),I=a("ead5"),P=a("079e"),Y=Object(b["a"])(Q,s,n,!1,null,null,null);e["default"]=Y.exports;g()(Y,"components",{QPage:E["a"],QBreadcrumbs:I["a"],QBreadcrumbsEl:P["a"]})}}]);